<html>
 <head>
 	<style type="text/css">
 		#wraper {
 			margin: 2em;
 			padding: 1em;
 		}

 		#holder {
 			margin: 0 auto;
 			text-align: center;
 			border: 1px solid #333;
 			height: 600px;
 			width: 800px;
 		}

 		#panel {
 			text-align: center;
 			font-size: 2rem;
 			padding: 1rem;
 			border: 1px solid #333;
 		}


 	</style>
 	<script src="fabric.min.js"></script>
 	<script type="text/javascript">
 		var mainImage;
 		var clipX = 0, clipY = 0;

 		window.onload = init;

 		function clipFunc (ctx) {
 			ctx.arc(clipX, clipY, 150, 0, Math.PI * 2, true)
 		}

 		function init() {
 			var canvas = new fabric.Canvas('main');


 			canvas.on("object:moving", function (e) {
 				var origState = e.target.originalState;
 				var panelX = document.getElementById("clip-x");
 				var panelY = document.getElementById("clip-y");

 				clipX = (e.target.left) - 150;
 				clipY = (e.target.top) - 20;

 				e.target.set({
 					left: 150,
 					top: 20,
 					clipTo: clipFunc
 				});

 				canvas.renderAll();

 				panelX.innerHTML = "X Clip: " + clipX;
 				panelY.innerHTML = "Y Clip: " + clipY;
 			});

 			fabric.Image.fromURL("http://arhe.co/wp-content/uploads/2013/10/tom-brady_GOAT-560x350.jpg", function (img) {
 				mainImage = img;
 				mainImage.set({
 					clipTo: clipFunc,
 					top: 20,
 					left: 150
 				});

 				canvas.add(mainImage).setActiveObject(mainImage);
 			});
 		}
 	</script>
 </head>
 <body>
 	<div id="wrapper">
 		<div id="holder">
 			<canvas id="main" width="800" height="600"></canvas>
 			<br><br>
 			<div id="panel">
 				<div id="clip-x">X Clip: 0</div><br>
 				<div id="clip-y">Y Clip: 0</div>
 			</div>
 		</div>
 	</div>
 </body>
</html>
